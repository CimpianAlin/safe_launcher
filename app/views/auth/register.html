<div class="form-b" ng-controller="authController">
  <div class="create-acc"ng-show="!isAuthLoading">
    <div class="create-acc-b">
      <div class="create-acc-nav">
        <ul>
          <li ng-class="{active: createAccCurrentState === CREATE_ACC_STATES.ACC_SECRET}" ng-click="createAccNavigation($event, CREATE_ACC_STATES.ACC_SECRET)">Account Secret</li>
          <li ng-class="{active: createAccCurrentState === CREATE_ACC_STATES.ACC_PASS, disabled: ((user.accountSecret !== user.confirmAccountSecret) || !secretValid)}"
            ng-click="createAccNavigation($event, CREATE_ACC_STATES.ACC_PASS)">Account Password</li>
        </ul>
      </div>
      <!-- account secret -->
      <div ng-if="createAccCurrentState === CREATE_ACC_STATES.ACC_SECRET" class="create-acc-cnt">
        <form class="form" name="accountSecretForm" ng-submit="setAccountSecret()" ng-init="toggleAccSecret = toggleConfirmAccSecret = true">
          <div id="errorTarget" class="inp-grp validate-field">
            <input id="accountSecret"
              type="{{toggleAccSecret ? 'password' : 'text'}}"
              name="accountSecret"
              required="true"
              ng-model="user.accountSecret"
              validate-account-secret
              field-type="SECRET"
              is-password-valid="checkSecretValid(result)"
              focus="true" />
            <label for="accountSecret">Account Secret</label>
            <div class="msg"></div>
            <div class="opt">
              <div class="opt-i">
                  <span class="eye" ng-class="{active: !toggleAccSecret}" ng-mousedown="toggleAccSecret = !toggleAccSecret"></span>
              </div>
            </div>
            <span class="strength"></span>
            <span class="status" data-val="min"></span>
          </div>
          <div class="inp-grp">
            <input id="confirmAccountSecret"
              type="{{toggleConfirmAccSecret ? 'password' : 'text'}}"
              name="confirmAccountSecret"
              required="true"
              target="accountSecret"
              ng-model="user.confirmAccountSecret"
              field-match-validator/>
            <label for="confirmAccountSecret">Confirm Account Secret</label>
            <div class="msg"></div>
            <div class="opt">
              <div class="opt-i">
                  <span class="eye" ng-class="{active: !toggleConfirmAccSecret}" ng-mousedown="toggleConfirmAccSecret = !toggleConfirmAccSecret"></span>
              </div>
            </div>
          </div>
          <div class="inp-btn">
            <button type="submit" class="btn primary" name="next"
              ng-disabled="(user.accountSecret !== user.confirmAccountSecret) || !secretValid">Next</button>
          </div>
        </form>
      </div>
      <!-- account password -->
      <div ng-if="createAccCurrentState === CREATE_ACC_STATES.ACC_PASS" class="create-acc-cnt">
        <form class="form" name="accountPasswordForm" ng-submit="createAccount()" ng-init="toggleAccPass = toggleConfirmAccPass = true">
          <div class="inp-grp validate-field">
            <input id="accountPassword"
              type="{{toggleAccPass ? 'password' : 'text'}}"
              name="accountPassword"
              required="true"
              ng-model="user.accountPassword"
              field-type="PASSWORD"
              is-password-valid="checkPasswordValid(result)"
              validate-account-secret
              focus="true" />
            <label for="accountPassword">Account Password</label>
            <div class="msg"></div>
            <div class="opt">
              <div class="opt-i">
                  <span class="eye" ng-class="{active: !toggleAccPass}" ng-mousedown="toggleAccPass = !toggleAccPass"></span>
              </div>
            </div>
            <span class="strength"></span>
            <span class="status last" data-val="min"></span>
          </div>
          <div class="inp-grp">
            <input id="confirmAccountPassword"
              type="{{toggleConfirmAccPass ? 'password' : 'text'}}"
              name="confirmAccountPassword"
              required="true"
              target="accountPassword"
              ng-model="user.confirmAccountPassword"
              field-match-validator/>
            <label for="confirmAccountPassword">Confirm Account Password</label>
            <div class="msg"></div>
            <div class="opt">
              <div class="opt-i">
                  <span class="eye" ng-class="{active: !toggleConfirmAccPass}" ng-mousedown="toggleConfirmAccPass = !toggleConfirmAccPass"></span>
              </div>
            </div>
          </div>
          <div class="inp-btn">
            <button type="submit" class="btn primary" name="next"
              ng-disabled="(user.accountPassword !== user.confirmAccountPassword) || !passwordValid">Create Account</button>
          </div>
        </form>
      </div>
    </div>
    <div class="form-f">
      <div class="form-f-b">
        Already have an account? <a ui-sref="app.account({currentPage: 'login'})">Login</a>
      </div>
    </div>
  </div>
  <ng-include src="'views/auth/loader.html'" ng-show="isAuthLoading"></ng-include>
</div>
